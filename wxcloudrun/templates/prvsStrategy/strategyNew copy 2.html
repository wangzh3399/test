{% extends "prvsBase/Menubase.html" %}
{% block panel %}
{%load static%}

<div class="weui-form">
    <div class="weui-form__text-area">
      <h2 class="weui-form__title">Create a new strategy model</h2>
      <div class="weui-form__desc">Notice:Model type is set to private by default.</div>
    </div>
    <div class="weui-form__control-area">
      <div class="weui-cells__group weui-cells__group_form">
        <div class="weui-cells">
          <label for="js_input3" class="weui-cell weui-cell_active weui-cell_wrap">
              <div class="weui-cell__hd">
                <span class="weui-label">Model Name</span>
              </div>
              <div class="weui-cell__bd">
                  <input id="js_input3" class="weui-input  weui-cell__control weui-cell__control_flex"  placeholder="Please input a name" value="">
              </div>
          </label>
          <div class="weui-cell  weui-cell_swiped" aria-haspopup="listbox" >
            <div class="weui-cell__bd" style="transform: translateX(-68px);" role="button" id="argvSelect1" wah-hotarea="click"><div class="weui-select" id="cascadePickerBtn">Model Argv Select</div></div>
            <div class="weui-cell__ft">
                <a class="weui-swiped-btn weui-swiped-btn_warn delete-swipeout" href="javascript:">删除</a>
            </div>
          </div>
          <div class="weui-cell weui-cell_active weui-cell_select" role="button" aria-haspopup="listbox" id="stockSelect" wah-hotarea="click">
            <div class="weui-cell__bd"><div class="weui-select" id="cascadePickerBtn2">StockPool Select</div></div>
          </div>
          <div class="weui-form">
            <div class="weui-form__control-area">
              <div class="weui-cells__group weui-cells__group_form">
                <div class="weui-cells__title">Desc</div>
                <div class="weui-cells weui-cells_form">
                    <div class="weui-cell weui-cell_active">
                        <div class="weui-cell__bd">
                            <textarea class="weui-textarea" placeholder="Describe the detail of your model" rows="2"></textarea>
                            <div role="option" aria-live="polite" class="weui-textarea-counter"><span>0</span>/200</div>
                        </div>
                    </div>
                </div>
              </div>
            </div>
            <div class="weui-form__opr-area">
              <a role="button" class="weui-btn weui-btn_primary" href="javascript:" id="showTooltips">确定</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<script type="text/javascript">
    /* picker */
    $("#argvSelect1").bind("swipeleft", function() {
        $("#argvSelect1").css("transform","translateX(-68px)");
        $("#testxx").css("display","");
});

$("#listview2").bind("swiperight", function() {
    $("#argvSelect1").css("transform","");
    $("#testxx").css("display","none");

});

// 普通选择器
selectid = 1;
var indicators = {{ indicators|safe }};
console.log(typeof(selectid));
// 级联选择器
function aa(){
    alert("xxx");
};
document.querySelector('#showTooltips').addEventListener('click', function (){
    })
function addListen(selectid){
    document.querySelector('#argvSelect'+selectid).addEventListener('click', function () {
    weui.picker(indicators, {
        depth: 2,
        defaultValue: [0, 0],
        onChange: function (result) {
            console.log(result);
        },
        onConfirm: function (result) {
            $("#argvSelect"+selectid).after('<div class="weui-cell weui-cell_active weui-cell_select" role="button" aria-haspopup="listbox" id="argvSelect'+(selectid+1)+'" wah-hotarea="click"><div class="weui-cell__bd"><div class="weui-select" id="cascadePickerBtn">Model Argv Select</div></div></div>')
            selectid = selectid + 1
            addListen(selectid);
            

        },
        id: 'cascadePicker'
    });
});
}
addListen(selectid);

</script>
</html>
{%load static%}
{% endblock %}